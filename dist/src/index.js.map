{"version":3,"sources":["../../src/index.ts"],"sourcesContent":["import mongoose from 'mongoose';\nimport express from 'express';\nimport cors from 'cors';\nimport helmet from 'helmet';\nimport { User } from './models/user.models.js';\nimport { setTimeout } from 'timers/promises';\nimport Config from './config.js';\n\nconst app = express();\n\napp.use(cors());\napp.use(helmet());\napp.use(express.json());\n\ntry {\n  await mongoose.connect(`${Config.MONGO_URI}`);\n  console.log('Connected to mongoose');\n  app.listen(Config.PORT, () =>\n    console.log(`Server running on port ${Config.PORT}`),\n  );\n  app.use((req, res, next) => {\n    console.log(\n      `[${new Date().toISOString()}] ${req.method} ${req.originalUrl} ${res.statusCode} ${req.ip}`,\n    );\n    next();\n  });\n\n  app.get('/', async (_req, res) => {\n    const users = await User.find();\n    await setTimeout(2000, 'result');\n    res.json(users);\n  });\n  app.post('/', async (_req, res) => {\n    const newUser = new User({ name: 'Jane Doe' });\n    await newUser.save();\n    res.json(newUser);\n  });\n  app.delete('/', async (_req, res) => {\n    await User.deleteMany();\n    res.send('Deleted all users');\n  });\n} catch (error) {\n  console.error('Error connecting to database: ', error);\n} finally {\n  console.log('Finally');\n}\n"],"names":["mongoose","express","cors","helmet","User","setTimeout","Config","app","use","json","connect","MONGO_URI","console","log","listen","PORT","req","res","next","Date","toISOString","method","originalUrl","statusCode","ip","get","_req","users","find","post","newUser","name","save","delete","deleteMany","send","error"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"AAAA,OAAOA,cAAc,WAAW;AAChC,OAAOC,aAAa,UAAU;AAC9B,OAAOC,UAAU,OAAO;AACxB,OAAOC,YAAY,SAAS;AAC5B,SAASC,IAAI,QAAQ,0BAA0B;AAC/C,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,OAAOC,YAAY,cAAc;AAEjC,MAAMC,MAAMN;AAEZM,IAAIC,GAAG,CAACN;AACRK,IAAIC,GAAG,CAACL;AACRI,IAAIC,GAAG,CAACP,QAAQQ,IAAI;AAEpB,IAAI;IACF,MAAMT,SAASU,OAAO,CAAC,CAAC,EAAEJ,OAAOK,SAAS,CAAC,CAAC;IAC5CC,QAAQC,GAAG,CAAC;IACZN,IAAIO,MAAM,CAACR,OAAOS,IAAI,EAAE,IACtBH,QAAQC,GAAG,CAAC,CAAC,uBAAuB,EAAEP,OAAOS,IAAI,CAAC,CAAC;IAErDR,IAAIC,GAAG,CAAC,CAACQ,KAAKC,KAAKC;QACjBN,QAAQC,GAAG,CACT,CAAC,CAAC,EAAE,IAAIM,OAAOC,WAAW,GAAG,EAAE,EAAEJ,IAAIK,MAAM,CAAC,CAAC,EAAEL,IAAIM,WAAW,CAAC,CAAC,EAAEL,IAAIM,UAAU,CAAC,CAAC,EAAEP,IAAIQ,EAAE,CAAC,CAAC;QAE9FN;IACF;IAEAX,IAAIkB,GAAG,CAAC,KAAK,OAAOC,MAAMT;QACxB,MAAMU,QAAQ,MAAMvB,KAAKwB,IAAI;QAC7B,MAAMvB,WAAW,MAAM;QACvBY,IAAIR,IAAI,CAACkB;IACX;IACApB,IAAIsB,IAAI,CAAC,KAAK,OAAOH,MAAMT;QACzB,MAAMa,UAAU,IAAI1B,KAAK;YAAE2B,MAAM;QAAW;QAC5C,MAAMD,QAAQE,IAAI;QAClBf,IAAIR,IAAI,CAACqB;IACX;IACAvB,IAAI0B,MAAM,CAAC,KAAK,OAAOP,MAAMT;QAC3B,MAAMb,KAAK8B,UAAU;QACrBjB,IAAIkB,IAAI,CAAC;IACX;AACF,EAAE,OAAOC,OAAO;IACdxB,QAAQwB,KAAK,CAAC,kCAAkCA;AAClD,SAAU;IACRxB,QAAQC,GAAG,CAAC;AACd"}